{% extends "cursos.html" %}

{% block title %}
  Cursos - {{ nombre_curso }}
{% endblock %}

{% block header %}
  Cursos - {{ nombre_curso }}
{% endblock %}

{% block sidebar_btns %}
{% if session['id_rol'] == 2 %}
<a
href="{{ url_for('crear_curso_form') }}"
class="btn {% if session['section'] == 'creacion_curso' %}btn-warning{% else %}btn-light{% endif %} text-start m-1"
>
<i class='bx bx-book-add'></i>
    Crear Curso
</a>

<p style="margin: 10px 10px 5px 0px; padding: auto;">Estudiantes</p>

<a
href="{{ url_for('alta') }}"
class="btn {% if session['section'] == 'Dar de Alta' %}btn-warning{% else %}btn-light{% endif %} text-start m-1"
>
<i class='bx bx-user-plus'></i>
    Dar de alta
</a>
{% endif %}

{% if session['id_rol'] == 3 %}
<p style="margin: 10px 10px 5px 0px; padding: auto;">Estudiantes</p>
<a
href="{{ url_for('visualizar_alumnos') }}"
class="btn {% if session['section'] == 'Vista_alumnos' %}btn-warning{% else %}btn-light{% endif %} text-start m-1"
>
<i class='bx bxs-user-detail'></i>
    Alumnos
</a>
{% endif %}

{% endblock %}

{% block content %}
<a
    href="{{ url_for('cursos') }}"
    class="btn btn-warning"
>
  <i class='bx bx-arrow-back'></i> Regresar a Cursos
</a>

<br>
<br>

<p class="text-secondary">{{ descripcion_curso }}</p>
<br>

<h5>Progreso: {{ progreso }}%</h5>
<br>
<div class="progress" style="height: 30px;">
  <div class="progress-bar" role="progressbar" style="width: {{ progreso }}%;" aria-valuenow="{{ progreso }}" aria-valuemin="0" aria-valuemax="100"></div>
</div>

<br>

{% for modulo in modulos %}
  <h5>{{ modulo[0][0] }}</h5>

  <ol class="list-group list-group-numbered">
    {% for leccion in modulo[1] %}
    <li>
      <a class="list-group-item d-flex justify-content-between align-items-start" href="{{ url_for('leccion', id_curso=id_curso, tipo=leccion[0][1], id=leccion[0][0]) }}">
        <div class="ms-2 me-auto">
          <div class="fw-bold">{{ leccion[0][3] }}</div>
        </div>
          {% if leccion[1] != -1 %}
            <span class="badge text-bg-primary rounded-pill">{{ leccion[1] }}</span>
          {% endif %}


          <span class="badge text-bg-warning rounded-pill" style="margin-left: 10px;">{{ leccion[0][1] }}</span>

          
      </a>
    </li>

    {% endfor %}
  </ol>
  <br>

{% endfor %}

{% endblock %}